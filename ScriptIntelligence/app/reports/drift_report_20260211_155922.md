# Rapport de changement FSD (Drift)

**Date:** 2026-02-11T15:59:22.823978
**Exigences ajoutées:** 0
**Exigences modifiées:** 4
**Exigences supprimées:** 0
**Nouveaux tests générés:** 8

---

## 1. Différence FSD (ancien vs nouveau)

```diff
--- ancien_FSD.md+++ nouveau_FSD.md@@ -0,0 +1,72 @@+# Functional Specification Document (FSD)
+
+## Project: User & Order Management API
+
+---
+
+# 1. User Management
+
+## REQ-USER-001: Create User
+
+### Description
+The system shall allow creation of a new user.
+
+### Inputs
+- name (string, required)
+- email (string, required, unique)
+
+### Expected Behavior
+- If email does not exist → user is created
+- If email already exists → raise ValueError
+
+### Output
+- JSON containing id, name, email
+
+---
+
+## REQ-USER-002: Get User By Email
+
+### Description
+The system shall return a user by email...
+
+### Inputs
+- email (string, required)
+
+### Expected Behavior
+- If user exists → return user data
+- If not → raise ValueError
+
+---
+
+# 2. Order Management
+
+## REQ-ORDER-001: Create Order
+
+### Description
+The system shall create an order linked to a user.
+
+### Inputs
+- user_email (string)
+- product_name (string)
+- quantity (int > 00)
+
+### Expected Behavior
+- If user exists → create order
+- If user does not exist → raise ValueError
+
+### Output
+- JSON containing order_id, user_email, product_name, quantity
+
+---
+
+## REQ-ORDER-002: Calculate Order Total
+
+### Description
+The system shall calculate total price.
+
+### Inputs
+- unit_price (float > 00)
+- quantity (int > 10)
+
+### Expected Behavior
+- Return unit_price * quantity

```

---

## 2. Exigences impactées

### Modifiées
- **REQ-USER-001**
**Ancien:**
```
## REQ-USER-001: Create User

### Description
The system shall allow creation of a new user.

### Inputs
- name (string, required)
- email (string, required, unique)

### Expected Behavior
- If email does not exist → user is created
- If email already exists → raise ValueError

### Output
- JSON con
```
**Nouveau:**
```
Create User
```

- **REQ-USER-002**
**Ancien:**
```
## REQ-USER-002: Get User By Email

### Description
The system shall return a user by email...

### Inputs
- email (string, required)

### Expected Behavior
- If user exists → return user data
- If not → raise ValueError

---

# 2. Order Management
```
**Nouveau:**
```
Get User By Email
```

- **REQ-ORDER-001**
**Ancien:**
```
## REQ-ORDER-001: Create Order

### Description
The system shall create an order linked to a user.

### Inputs
- user_email (string)
- product_name (string)
- quantity (int > 10)

### Expected Behavior
- If user exists → create order
- If user does not exist → raise ValueError

### Output
- JSON con
```
**Nouveau:**
```
Create Order
```

- **REQ-ORDER-002**
**Ancien:**
```
## REQ-ORDER-002: Calculate Order Total

### Description
The system shall calculate total price.

### Inputs
- unit_price (float > 00)
- quantity (int > 10)

### Expected Behavior
- Return unit_price * quantity
```
**Nouveau:**
```
Calculate Order Total
```


---

## 3. Nouveaux test cases (partie modifiée uniquement)

### REQ-ORDER-001

#### Test 1: Create Order - Success

- **Description:** Verify that an order is successfully created for an existing user with valid product and quantity.
- **Inputs:** `{'user_email': 'john.doe@example.com', 'product_name': 'Laptop', 'quantity': 1}`
- **Expected output:** JSON containing order_id, user_email: 'john.doe@example.com', product_name: 'Laptop', quantity: 1

#### Test 2: Create Order - User Not Found

- **Description:** Verify that a ValueError is raised when attempting to create an order for a user email that does not exist.
- **Inputs:** `{'user_email': 'unknown@example.com', 'product_name': 'Laptop', 'quantity': 1}`
- **Expected output:** ValueError


### REQ-ORDER-002

#### Test 1: Calculate Order Total - Standard Calculation

- **Description:** Verify the calculation logic returns unit_price multiplied by quantity.
- **Inputs:** `{'unit_price': 99.99, 'quantity': 11}`
- **Expected output:** 1099.89

#### Test 2: Calculate Order Total - Invalid Quantity

- **Description:** Verify the behavior when quantity is outside the specified range (> 10).
- **Inputs:** `{'unit_price': 50.0, 'quantity': 5}`
- **Expected output:** Error or unexpected behavior based on boundary constraints


### REQ-USER-001

#### Test 1: Create User - Success

- **Description:** Verify that a user is successfully created when providing a unique email and a name.
- **Inputs:** `{'name': 'John Doe', 'email': 'john.doe@example.com'}`
- **Expected output:** JSON containing id, name: 'John Doe', email: 'john.doe@example.com'

#### Test 2: Create User - Duplicate Email

- **Description:** Verify that a ValueError is raised when attempting to create a user with an email that already exists in the system.
- **Inputs:** `{'name': 'Jane Doe', 'email': 'john.doe@example.com'}`
- **Expected output:** ValueError


### REQ-USER-002

#### Test 1: Get User By Email - Success

- **Description:** Verify that the system returns the correct user data when a valid, existing email is provided.
- **Inputs:** `{'email': 'john.doe@example.com'}`
- **Expected output:** JSON containing user data for john.doe@example.com

#### Test 2: Get User By Email - Not Found

- **Description:** Verify that a ValueError is raised when searching for an email that does not exist in the system.
- **Inputs:** `{'email': 'nonexistent@example.com'}`
- **Expected output:** ValueError

